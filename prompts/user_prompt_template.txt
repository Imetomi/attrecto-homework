## Thread Context

**Subject:** {subject}
**Email Number:** {email_number} of {total_emails}

## Team Members Context

{colleagues_context}

## Existing Projects

{existing_projects}

## Previously Identified Open Issues

{previous_issues}

## Thread Summary So Far

{thread_summary}

## Current Email to Analyze

---
**From:** {from_name} <{from_email}>
**Date:** {email_date}
**To:** {to_emails}
{cc_line}

**Body:**
{email_body}
---

## Your Task

1. **Detect Project Mentions**: Identify any projects mentioned in this email. If a project name matches an existing project (by name or keywords), reference it. Otherwise, suggest a new project name with relevant keywords.
2. **Identify NEW Issues**: Analyze the current email for any NEW unresolved actions or emerging risks
3. **Check Resolution Status**: Determine if any PREVIOUS issues listed above are now RESOLVED based on this email
4. **Update Thread Summary**: Extract key points from this email to add to the ongoing thread summary
5. **Use Team Context**: When determining contact persons, prefer using names and emails from the Team Members list above

## Constraints

- Only flag issues a Director of Engineering needs to know
- Ignore casual conversations and off-topic messages
- Provide exact quotes as evidence (minimum 10 characters)
- Be conservative - if uncertain, use lower confidence scores

## Output Format

Return ONLY valid JSON matching the schema (no markdown, no extra text).
